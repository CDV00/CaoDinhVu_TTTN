@model Entities.DTOs.HomeDTO;
@{
    ViewData["Title"] = "Home Page";
}

<div class="container">
    <!-- ========================= SECTION MAIN  ========================= -->
    <section class="section-main padding-y">
        <main class="card">
            <div class="card-body">

                <div class="row">
                    <aside class="col-lg-2 col-md-2 flex-lg-grow-0">
                        <nav class="nav-home-aside  ">
                            <h6 class="title-category">Brand <i class="d-md-none icon fa fa-chevron-down"></i></h6>
                            <ul class="menu-category">
                                @foreach (var item in Model.listBrands.Take(8))
                                {
                                    <li><a href="~/thuong-hieu/@item.Id">@item.Name</a></li>
                                }


                            </ul>
                        </nav>
                    </aside> <!-- col.// -->
                    <div class="col-md-9 col-xl-10 col-lg-10">

                        <!-- ================== COMPONENT SLIDER  BOOTSTRAP  ==================  -->
                        <div id="carousel1_indicator" class="slider-home-banner carousel slide" data-ride="carousel">
                            <ol class="carousel-indicators">
                                @{
                                    int coutSlider = Model.listSlider.Count;
                                    if (coutSlider >= 1)
                                    {
                                        <li data-target="#carousel1_indicator" data-slide-to="0" class="active"></li>
                                    }
                                    if (coutSlider > 1)
                                    {
                                        for (int i = 1; i < coutSlider; i++)
                                        {
                                            <li data-target="#carousel1_indicator" data-slide-to="@i"></li>
                                        }
                                    }
                                }
                            </ol>
                            <div class="carousel-inner">
                                @foreach (var item in Model.listSlider.OrderBy(m=>m.Orders))
                                {
                                    if (item.Orders == 1)
                                    {
                                        <div class="carousel-item active">
                                            <img src="@item.Img" alt="First slide">
                                        </div>
                                    }
                                    else
                                    {
                                        <div class="carousel-item">
                                            <img src="@item.Img" alt="Second slide">
                                        </div>
                                    }
                                }
                            </div>
                            <a class="carousel-control-prev" href="#carousel1_indicator" role="button" data-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#carousel1_indicator" role="button" data-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>
                        <!-- ==================  COMPONENT SLIDER BOOTSTRAP end.// ==================  .// -->

                    </div> <!-- col.// -->
                    <!--<div class="col-md-2 d-none d-lg-block flex-grow-1">
                        <aside class="special-home-right">
                            <h6 class="bg-blue text-center text-white mb-0 ">Popular category</h6>
                            @foreach (var item in Model.listCategory.Take(3))
                            {
                                <div class="card-banner border-bottom">
                                    <div class="py-3" style="width:80%">
                                        <h6 class="card-title text-white">@item.Name</h6>
                                        <a href="~/danh-muc/@item.Id" class="btn btn-secondary btn-sm  text-white"> xem ngay </a>
                                    </div>
                                    <img src="@item.Image" height="100" class="img-bg">
                                </div>
                            }



                        </aside>
                    </div>--> <!-- col.// -->
                </div> <!-- row.// -->

            </div> <!-- card-body.// -->
        </main> <!-- card.// -->

    </section>
    <!-- ========================= SECTION MAIN END// ========================= -->
    <!-- =============== SECTION DEAL =============== -->
    <section class="padding-bottom">
        <header class="section-heading ">
            <span class="title-section text-uppercase h4 text-primary"><i class="fa-solid fa-bolt text-warning"></i> Sản phẩm mới <i class="fa-solid fa-bolt text-warning"></i></span>
            <a href="~/tat-ca-san-pham" class="float-right p-2 bg-info text-white" style="border: 2px ; border-radius: 10px;color: black ">Xem tất cả sản phẩm mới <i class="fa-solid fa-circle-chevron-right"></i></a>
        </header>
        <header class="section-heading heading-line">
            <h4 class="title-section text-uppercase"></h4>
        </header>
        <div class="card card-deal">


            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">


            <!-- javascript -->
            <script src="https://code.jquery.com/jquery-2.2.4.min.js"
                    integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
                    crossorigin="anonymous">
            </script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.js"
                    integrity="sha512-gY25nC63ddE0LcLPhxUJGFxa2GoIyA5FLym4UJqHDEMHjp8RET6Zn/SHo1sltt3WuVtqfyxECP38/daUc/WVEA=="
                    crossorigin="anonymous" referrerpolicy="no-referrer">
            </script>
            <!-- javascript -->


            <div class="large-12 columns">
                <div class="row no-gutters items-wrap">
                    <div class="large-12 columns container">
                        <div class="owl-carousel pr-5">
                            @foreach (var item in Model.listProducts.Data.OrderByDescending(c => c.CreateAt))
                            {
                                <div class="col-md col-6 px-0">
                                    <figure class="card-product-grid card-sm">
                                        <a href="~/chi-tiet-san-pham/@item.Id" class="img-wrap">
                                            <span class="badge badge-danger"> NEW </span>
                                            <img src="@item.Thumbnails">
                                        </a>
                                        <div class="text-wrap p-3">
                                            <a href="~/chi-tiet-san-pham/@item.Id" style="display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden;" class="title">@item.Name</a>
                                            <div class="price mt-1">@((item.Price).ToString("#,##0")) VND</div>
                                        </div>
                                    </figure>
                                </div> <!-- col.// -->
                            }
                            <div class="col-md col-6">
                                <figure class="card-product-grid card-sm" style="padding-top: 36px;">

                                    <a href="~/tat-ca-san-pham" class="img-wrap bg-secondary rounded-circle center-x" style="height:100px; width:100px;">
                                        <i class="fa-solid fa-angles-right Bold center-xy" style="font-size:50px; color:white;"></i>
                                    </a>
                                    <strong class="h6"> Xem tất cả sản phẩm </strong>
                                </figure>
                            </div> <!-- col.// -->
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </section>
    <!-- =============== SECTION DEAL // END =============== -->
    <!-- =============== SECTION 1 =============== -->
    <section class="padding-bottom">
        <header class="section-heading ">
            <span class="title-section text-uppercase h4 text-primary">Thương hiệu @Model.ProductsByBrabds.brand.Name </span>
            <a href="~/thuong-hieu" class="float-right p-2 bg-info text-white" style="border: 2px ; border-radius: 10px;color: black ">Tất cả thương hiệu <i class="fa-solid fa-circle-chevron-right"></i></a>
        </header>
        <header class="section-heading heading-line">
            <h4 class="title-section text-uppercase"></h4>
        </header>
        <div class="card card-home-category">
            <div class="row no-gutters">
                <!--<div class="col-md-3">

                <div class="home-category-banner bg-light-orange">
                    <h5 class="title">@Model.ProductsByBrabds.brand.Name</h5>
                    <p>@Model.ProductsByBrabds.brand.Title </p>
                    <a href="#" class="~/thuong-hieu/@Model.ProductsByBrabds.brand.Id">Xem sản phẩm</a>
                    <img src="@Model.ProductsByBrabds.brand.Image" height="181" class="img-bg">
                </div>

            </div>-->
                <!-- col.// -->


                <div class="large-12 columns">
                    <div class="row no-gutters items-wrap">
                        <div class="large-12 columns container">
                            <div class="owl-carousel pr-5">
                                @foreach (var item in Model.ProductsByBrabds.products.Data.Take(8))
                                {
                                    <div class="col-md col-6 px-0">
                                        <figure style="box-sizing: content-box;" class="card-product-grid card-sm">
                                            <a href="~/chi-tiet-san-pham/@item.Id" class="img-wrap">
                                                <span class="badge badge-danger"> NEW </span>
                                                <img src="@item.Thumbnails">
                                            </a>
                                            <div class="text-wrap p-3">
                                                <a href="~/chi-tiet-san-pham/@item.Id" style="display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden;" class="title">@item.Name</a>
                                                <div class="price mt-1">@((item.Price).ToString("#,##0")) VND</div>
                                            </div>
                                        </figure>
                                    </div> <!-- col.// -->
                                }
                                <div class="col-md col-6 px-0">
                                    <figure class="card-product-grid card-sm" style="padding-top: 36px;">

                                        <a href="~/thuong-hieu/@Model.ProductsByBrabds.brand.Id" class="img-wrap bg-secondary rounded-circle center-x" style="height:100px; width:100px;">
                                            <i class="fa-solid fa-angles-right Bold center-xy" style="font-size:50px; color:white;"></i>
                                        </a>
                                        <span style=" margin-left: 27px;" class="h6">Sản phẩm @Model.ProductsByBrabds.brand.Name</span>
                                    </figure>
                                </div> <!-- col.// -->

                            </div>
                        </div>
                    </div>
                </div>

                

            </div> <!-- row.// -->
        </div> <!-- card.// -->
    </section>
    <!-- =============== SECTION 1 END =============== -->
    <!-- =============== SECTION 2 =============== -->
    <section class="padding-bottom">
        <div style="background-color: #ff6700; border: 2px; border-radius: 5px;" class="p-2">
            <header class="section-heading ">
                <span class="title-section text-uppercase h4 ml-4"> Danh mục @Model.ProductsByCategory.category.Name </span>
                <a href="~/danh-muc" class="float-right p-2 bg-info text-white" style="border: 2px ; border-radius: 10px;color: black ">Tất cả danh mục <i class="fa-solid fa-circle-chevron-right"></i></a>
            </header>
        </div>
        <div class="card card-home-category">
            <div class="row no-gutters">

                <div class="large-12 columns">
                    <div class="row no-gutters items-wrap">
                        <div class="large-12 columns container">
                            <div class="owl-carousel pr-5">
                                @foreach (var item in Model.ProductsByCategory.products.Data)
                                {
                                    <div class="col-md col-6 px-0">
                                        <figure style="box-sizing: content-box;" class="card-product-grid card-sm">
                                            <a href="~/chi-tiet-san-pham/@item.Id" class="img-wrap">
                                                <span class="badge badge-danger"> NEW </span>
                                                <img src="@item.Thumbnails">
                                            </a>
                                            <div class="text-wrap p-3">
                                                <a href="~/chi-tiet-san-pham/@item.Id" style="display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden;" class="title">@item.Name</a>
                                                <div class="price mt-1">@((item.Price).ToString("#,##0")) VND</div>
                                            </div>
                                        </figure>
                                    </div> <!-- col.// -->
                                }
                                <div class="col-md col-6">
                                    <figure class="card-product-grid card-sm" style="padding-top: 36px;">

                                        <a href="~/danh-muc/@Model.ProductsByCategory.category.Id" class="img-wrap bg-secondary rounded-circle center-x" style="height:100px; width:100px;">
                                            <i class="fa-solid fa-angles-right Bold center-xy" style="font-size:50px; color:white;"></i>
                                        </a>
                                        <strong style=" margin-left: 27px;" class="h6">Sản phẩm @Model.ProductsByCategory.category.Name</strong>
                                    </figure>
                                </div> <!-- col.// -->

                            </div>
                        </div>
                    </div>
                </div>

                

            </div> <!-- row.// -->
        </div> <!-- card.// -->
    </section>
    
    <!-- =============== SECTION ITEMS =============== -->
    <section class="padding-bottom-sm">

        <header class="section-heading heading-line">
            <h4 class="title-section text-uppercase">Sản phẩm bán chạy</h4>
        </header>

        <div class="row row-sm">
            @foreach (var item in Model.listProducts.Data.Take(12))
            {
                <div class="col-xl-2 col-lg-3 col-md-4 col-6">
                    <div class="card card-sm card-product-grid">
                        <a href="~/chi-tiet-san-pham/@item.Id" class="img-wrap"> <img src="@item.Thumbnails"> </a>
                        <figcaption class="info-wrap">
                            <a href="~/chi-tiet-san-pham/@item.Id" class="title" style="display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden;">@item.Name</a>
                            <div class="price mt-1">@((item.Price).ToString("#,##0"))VND</div> <!-- price-wrap.// -->
                        </figcaption>
                    </div>
                </div> <!-- col.// -->
            }

        </div> <!-- row.// -->
    </section>
    
</div>
<script>
    var owl = $('.owl-carousel');
    owl.owlCarousel({
        margin: 10,
        loop: true,
        responsive: {
            0: {
                items: 1
            },
            300: {
                items: 2
            },
            600: {
                items: 3
            },
            900: {
                items: 4
            },
            1200: {
                items: 5
            }

        }
    })
</script>